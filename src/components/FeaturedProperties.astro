---
import PropertyGrid from './PropertyGrid.jsx';
import { getFeaturedProperties } from '../lib/api';

const properties = await getFeaturedProperties();
---

<section class="py-24 bg-brand-bg">
  <div class="container mx-auto px-6">
    {/* Section Header */}
    <div class="text-center mb-16 max-w-2xl mx-auto">
      <span class="text-brand-primary text-sm font-bold uppercase tracking-widest mb-2 block">
        Colección Exclusiva
      </span>
      <h2 class="text-4xl md:text-5xl font-serif font-bold text-brand-dark mb-6">
        Propiedades Destacadas
      </h2>
      <p class="text-brand-secondary text-lg font-light">
        Una selección curada de hogares que cuentan una historia única.
      </p>
    </div>

    {/* Grid / Carousel (Animated) */}
    {properties && properties.length > 0 ? (
      <PropertyGrid properties={properties} client:load />
    ) : (
      <div class="text-center py-12 border border-dashed border-brand-secondary/30 rounded-lg">
        <p class="text-brand-secondary">No hay propiedades publicadas aún.</p>
        <p class="text-sm text-brand-secondary/70 mt-2">Ve al Studio y publica algunas propiedades en estado "En Venta".</p>
      </div>
    )}

    {/* View All Button */}
    <div class="text-center mt-16">
      <a
        href="/propiedades"
        class="inline-block border border-brand-dark text-brand-dark px-8 py-3 text-sm font-bold uppercase tracking-widest hover:bg-brand-dark hover:text-white transition-all duration-300"
      >
        Ver Todas las Propiedades
      </a>
    </div>
  </div>
</section>
